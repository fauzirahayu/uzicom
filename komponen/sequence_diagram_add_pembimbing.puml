@startuml Sequence Diagram Add Pembimbing

title Sequence Diagram Add Pembimbing Sistem Manajemen Haji

actor Admin as Admin
participant "tampilan pembimbing" as PembimbingPage
participant "tampilan tambah pembimbing" as FormPage
participant "proses add" as AddPembimbing
participant "Database" as DB
participant "contern/jamaahHaji/pembimbing.php" as PembimbingList

Admin -> PembimbingPage: Akses halaman pembimbing
PembimbingPage -> Admin: Tampilkan list pembimbing dengan tombol tambah

Admin -> FormPage: Klik tombol tambah, akses tambahPembimbing
FormPage -> Admin: Tampilkan form tambah pembimbing

Admin -> FormPage: Isi form (nama, nik, telepon, email, alamat, keterangan) dan submit
FormPage -> AddPembimbing: Kirim POST data (form data, foto)

alt Foto diupload
    AddPembimbing -> AddPembimbing: Upload foto ke /uploads
end

AddPembimbing -> DB: INSERT INTO pembimbing_haji (nama_lengkap, nik, telepon, email, alamat, foto, keterangan)
DB --> AddPembimbing: Return insert result

alt Insert berhasil
    AddPembimbing -> PembimbingList: Redirect to tampilan pembimbing
    PembimbingList --> Admin: Tampilkan list pembimbing
else Insert gagal
    AddPembimbing -> Admin: Tampilkan error message
end

@enduml
