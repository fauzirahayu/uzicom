@startuml Component Diagram Sistem Manajemen Jamaah Haji

title Component Diagram Sistem Manajemen Jamaah Haji

skinparam backgroundColor #FEFEFE
skinparam component {
    BackgroundColor #FFFFFF
    BorderColor #000000
    BorderThickness 2
    FontSize 11
}

' Frontend Layer
package "Frontend Layer" as FL #LightBlue {
    [tampilan login] as login
    [sideMenu admin] as admin_dash
    [sideMenu pengguna] as user_dash
    [tampilan tahun jamaah] as jamaah_mgmt
    [tampilan pembimbing] as pembimbing_mgmt
    [tampilan berita] as berita_mgmt
    [tampilan laporan] as laporan
    [tampilan profil] as profil_mgmt
    [tampilan register] as register
}

' Backend Layer
package "Backend Layer" as BL #LightGreen {
    [proses login] as auth_login
    [proses daftar] as auth_register
    [jamaah] as jamaah_crud
    [pembimbing] as pembimbing_crud
    [berita] as berita_crud
    [generet bukti] as report_gen
    [File Upload Handler] as file_upload
    [Session Manager] as session_mgr
}

' Data Layer
package "Data Layer" as DL #LightYellow {
    [database] as db_conn
    [Admin Table] as admin_tbl
    [Pengguna Table] as pengguna_tbl
    [Pembimbing_Haji Table] as pembimbing_tbl
    [Jamaah_Haji Table] as jamaah_haji_tbl
    [Jamaah_2027 Table] as jamaah_2027_tbl
    [Jamaah_2028 Table] as jamaah_2028_tbl
    [Jamaah_2029 Table] as jamaah_2029_tbl
    [Berita Table] as berita_tbl
}

' Frontend to Backend connections
login --> auth_login : authenticate
register --> auth_register : register user
admin_dash --> jamaah_crud : manage jamaah
admin_dash --> pembimbing_crud : manage pembimbing
admin_dash --> berita_crud : manage berita
admin_dash --> report_gen : generate reports
user_dash --> berita_crud : view berita
user_dash --> jamaah_crud : view jamaah
profil_mgmt --> auth_login : update profile
jamaah_mgmt --> file_upload : upload foto
pembimbing_mgmt --> file_upload : upload foto
berita_mgmt --> file_upload : upload gambar

' Backend to Data connections
auth_login --> db_conn : connect
auth_register --> db_conn : connect
jamaah_crud --> db_conn : CRUD operations
pembimbing_crud --> db_conn : CRUD operations
berita_crud --> db_conn : CRUD operations
report_gen --> db_conn : query data

' Data Layer internal connections
db_conn --> admin_tbl : access
db_conn --> pengguna_tbl : access
db_conn --> pembimbing_tbl : access
db_conn --> jamaah_haji_tbl : access
db_conn --> jamaah_2027_tbl : access
db_conn --> jamaah_2028_tbl : access
db_conn --> jamaah_2029_tbl : access
db_conn --> berita_tbl : access

' Session management
session_mgr --> auth_login : manage sessions
session_mgr --> admin_dash : provide session data
session_mgr --> user_dash : provide session data

@enduml
